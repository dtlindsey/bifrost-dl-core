{
    "header": {
        "metadata": [
            {
                "metaName": "adskFileFormatVersion",
                "metaValue": "100L"
            }
        ]
    },
    "namespaces": [],
    "types": [],
    "compounds": [
        {
            "name": "DL_Core::transforms::dl_xform",
            "uriImported": "file:///dl_xform.json",
            "metadata": [
                {
                    "metaName": "icon",
                    "metaType": "string",
                    "metaValue": "../icons/dl_core_icon.svg"
                },
                {
                    "metaName": "documentation",
                    "metaType": "string",
                    "metaValue": "../docs/${language}/dl_xform.md"
                },
                {
                    "metaName": "io_nodes",
                    "metadata": [
                        {
                            "metaName": "io_inodes",
                            "metadata": [
                                {
                                    "metaName": "input",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "io_ports",
                                            "metadata": [
                                                {
                                                    "metaName": "inParentMatrix"
                                                },
                                                {
                                                    "metaName": "inPivotMatrix"
                                                },
                                                {
                                                    "metaName": "inLocalMatrix"
                                                },
                                                {
                                                    "metaName": "active"
                                                }
                                            ]
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "-3670.19 -801.063"
                                        }
                                    ]
                                },
                                {
                                    "metaName": "SRT_input",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "io_ports",
                                            "metadata": [
                                                {
                                                    "metaName": "useSRT"
                                                },
                                                {
                                                    "metaName": "scale"
                                                },
                                                {
                                                    "metaName": "rotate"
                                                },
                                                {
                                                    "metaName": "translation"
                                                },
                                                {
                                                    "metaName": "rotationOrder"
                                                }
                                            ]
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "-3827.24 -1243.59"
                                        }
                                    ]
                                },
                                {
                                    "metaName": "input1",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "io_ports",
                                            "metadata": [
                                                {
                                                    "metaName": "icon_type"
                                                },
                                                {
                                                    "metaName": "icon_size"
                                                },
                                                {
                                                    "metaName": "icon_color"
                                                }
                                            ]
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "-807.477 -336.895"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "metaName": "io_onodes",
                            "metadata": [
                                {
                                    "metaName": "output",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "io_ports",
                                            "metadata": [
                                                {
                                                    "metaName": "out_xform"
                                                },
                                                {
                                                    "metaName": "deformMatrix"
                                                },
                                                {
                                                    "metaName": "parentMatrix"
                                                },
                                                {
                                                    "metaName": "pivotMatrix"
                                                },
                                                {
                                                    "metaName": "localMatrix"
                                                },
                                                {
                                                    "metaName": "worldMatrix"
                                                }
                                            ]
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "-277.243 -866.891"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "metaName": "backdrop",
                    "metadata": [
                        {
                            "metaName": "type",
                            "metaType": "string",
                            "metaValue": "backdrop"
                        },
                        {
                            "metaName": "text",
                            "metaType": "string",
                            "metaValue": "DeformMatCalc\ndeformMat=Par*Piv*local*PivInv\n\n"
                        },
                        {
                            "metaName": "coords",
                            "metaType": "string",
                            "metaValue": "-1457.13 -1072.29 824.147 677.192"
                        }
                    ]
                },
                {
                    "metaName": "backdrop1",
                    "metadata": [
                        {
                            "metaName": "type",
                            "metaType": "string",
                            "metaValue": "backdrop"
                        },
                        {
                            "metaName": "text",
                            "metaType": "string",
                            "metaValue": "If compute is off, return identity to stop deformation\n"
                        },
                        {
                            "metaName": "coords",
                            "metaType": "string",
                            "metaValue": "-2333.05 -736.289 659.979 564.311"
                        }
                    ]
                },
                {
                    "metaName": "backdrop2",
                    "metadata": [
                        {
                            "metaName": "type",
                            "metaType": "string",
                            "metaValue": "backdrop"
                        },
                        {
                            "metaName": "text",
                            "metaType": "string",
                            "metaValue": "use srt values"
                        },
                        {
                            "metaName": "coords",
                            "metaType": "string",
                            "metaValue": "-3271.86 -1384.21 1074.56 333.068"
                        }
                    ]
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "input"
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,DL_Core::diagnostics,dl_icon_display"
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,Core::Object,set_property"
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,Core::Constants,float"
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,Core::Math,matrix_multiply"
                },
                {
                    "metaName": "ViewportRect",
                    "metaType": "string",
                    "metaValue": "-1931.16 -1476.85 1487.1 1348.3"
                },
                {
                    "metaName": "DisplayMode",
                    "metaType": "string",
                    "metaValue": "2"
                },
                {
                    "metaName": "LayoutPos",
                    "metaType": "string",
                    "metaValue": "-147.671 -477.205"
                },
                {
                    "metaName": "UILayout",
                    "metaType": "string",
                    "metaValue": "{\n    \"NodeLayout\": {\n        \"hideUndeclaredPorts\": false,\n        \"items\": [\n            {\n                \"port\": \"active\"\n            },\n            {\n                \"port\": \"inParentMatrix\"\n            },\n            {\n                \"port\": \"inPivotMatrix\"\n            },\n            {\n                \"port\": \"inLocalMatrix\"\n            },\n            {\n                \"expanded\": false,\n                \"group\": \"SRT Values\",\n                \"items\": [\n                    {\n                        \"port\": \"useSRT\"\n                    },\n                    {\n                        \"port\": \"rotationOrder\"\n                    },\n                    {\n                        \"port\": \"scale\"\n                    },\n                    {\n                        \"port\": \"rotate\"\n                    },\n                    {\n                        \"port\": \"translation\"\n                    }\n                ]\n            },\n            {\n                \"group\": \"Icon\",\n                \"items\": [\n                    {\n                        \"port\": \"icon_type\"\n                    },\n                    {\n                        \"port\": \"icon_size\"\n                    },\n                    {\n                        \"port\": \"icon_color\"\n                    }\n                ]\n            }\n        ]\n    }\n}\n"
                },
                {
                    "metaName": "PortExpandedState",
                    "metadata": [
                        {
                            "metaName": "SRT Values",
                            "metaType": "string",
                            "metaValue": "0"
                        }
                    ]
                }
            ],
            "ports": [
                {
                    "portName": "inParentMatrix",
                    "portDirection": "input",
                    "portType": "Math::float4x4",
                    "portDefault": {
                        "c0": {
                            "x": "1f",
                            "y": "0f",
                            "z": "0f",
                            "w": "0f"
                        },
                        "c1": {
                            "x": "0f",
                            "y": "1f",
                            "z": "0f",
                            "w": "0f"
                        },
                        "c2": {
                            "x": "0f",
                            "y": "0f",
                            "z": "1f",
                            "w": "0f"
                        },
                        "c3": {
                            "x": "0f",
                            "y": "0f",
                            "z": "0f",
                            "w": "1f"
                        }
                    }
                },
                {
                    "portName": "inPivotMatrix",
                    "portDirection": "input",
                    "portType": "Math::float4x4",
                    "portDefault": {
                        "c0": {
                            "x": "1f",
                            "y": "0f",
                            "z": "0f",
                            "w": "0f"
                        },
                        "c1": {
                            "x": "0f",
                            "y": "1f",
                            "z": "0f",
                            "w": "0f"
                        },
                        "c2": {
                            "x": "0f",
                            "y": "0f",
                            "z": "1f",
                            "w": "0f"
                        },
                        "c3": {
                            "x": "0f",
                            "y": "0f",
                            "z": "0f",
                            "w": "1f"
                        }
                    }
                },
                {
                    "portName": "inLocalMatrix",
                    "portDirection": "input",
                    "portType": "Math::float4x4",
                    "portDefault": {
                        "c0": {
                            "x": "1f",
                            "y": "0f",
                            "z": "0f",
                            "w": "0f"
                        },
                        "c1": {
                            "x": "0f",
                            "y": "1f",
                            "z": "0f",
                            "w": "0f"
                        },
                        "c2": {
                            "x": "0f",
                            "y": "0f",
                            "z": "1f",
                            "w": "0f"
                        },
                        "c3": {
                            "x": "0f",
                            "y": "0f",
                            "z": "0f",
                            "w": "1f"
                        }
                    }
                },
                {
                    "portName": "out_xform",
                    "portDirection": "output",
                    "portType": "Amino::Object"
                },
                {
                    "portName": "deformMatrix",
                    "portDirection": "output",
                    "portType": "Math::float4x4"
                },
                {
                    "portName": "parentMatrix",
                    "portDirection": "output",
                    "portType": "Math::float4x4"
                },
                {
                    "portName": "pivotMatrix",
                    "portDirection": "output",
                    "portType": "Math::float4x4"
                },
                {
                    "portName": "localMatrix",
                    "portDirection": "output",
                    "portType": "Math::float4x4"
                },
                {
                    "portName": "worldMatrix",
                    "portDirection": "output",
                    "portType": "Math::float4x4"
                },
                {
                    "portName": "useSRT",
                    "portDirection": "input",
                    "portType": "bool",
                    "portDefault": "false"
                },
                {
                    "portName": "scale",
                    "portDirection": "input",
                    "portType": "Math::float3",
                    "portDefault": {
                        "x": "1f",
                        "y": "1f",
                        "z": "1f"
                    }
                },
                {
                    "portName": "rotate",
                    "portDirection": "input",
                    "portType": "Math::float3"
                },
                {
                    "portName": "translation",
                    "portDirection": "input",
                    "portType": "Math::float3"
                },
                {
                    "portName": "rotationOrder",
                    "portDirection": "input",
                    "portType": "Math::rotation_order",
                    "portDefault": "XYZ"
                },
                {
                    "portName": "active",
                    "portDirection": "input",
                    "portType": "bool",
                    "portDefault": "true"
                },
                {
                    "portName": "icon_type",
                    "portDirection": "input",
                    "portType": "DL_Core::Diagnostics::icons",
                    "portDefault": "Axis"
                },
                {
                    "portName": "icon_size",
                    "portDirection": "input",
                    "portType": "float",
                    "portDefault": "1.0f"
                },
                {
                    "portName": "icon_color",
                    "portDirection": "input",
                    "portType": "Math::float3",
                    "portDefault": {
                        "x": "1f",
                        "y": "1f",
                        "z": "1f"
                    }
                }
            ],
            "compoundNodes": [
                {
                    "nodeName": "identity",
                    "nodeType": "Core::Constants::identity",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-2256.91 -363.871"
                        }
                    ]
                },
                {
                    "nodeName": "should_compute",
                    "nodeType": "Core::Logic::if",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-1930.67 -643.444"
                        }
                    ]
                },
                {
                    "nodeName": "inverse_pivot",
                    "nodeType": "Core::Math::inverse_matrix",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-1400.42 -688.302"
                        }
                    ]
                },
                {
                    "nodeName": "SRT_to_matrix",
                    "nodeType": "Core::Math::SRT_to_matrix",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-2588.46 -1315.67"
                        }
                    ]
                },
                {
                    "nodeName": "euler_to_quaternion",
                    "nodeType": "Core::Math::euler_to_quaternion",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-2877.67 -1263.86"
                        }
                    ]
                },
                {
                    "nodeName": "degrees_to_radians",
                    "nodeType": "Core::Conversion::degrees_to_radians",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-3141.68 -1240.71"
                        }
                    ]
                },
                {
                    "nodeName": "useSRT",
                    "nodeType": "Core::Logic::if",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-2197.96 -720.155"
                        }
                    ]
                },
                {
                    "nodeName": "matrix_multiply",
                    "nodeType": "Core::Math::matrix_multiply",
                    "multiInPortNames": [
                        "inParentMatrix",
                        "inPivotMatrix"
                    ],
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-1280.62 -953.644"
                        }
                    ]
                },
                {
                    "nodeName": "matrix_multiply1",
                    "nodeType": "Core::Math::matrix_multiply",
                    "multiInPortNames": [
                        "matrix1",
                        "output"
                    ],
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-1039.41 -634.642"
                        }
                    ]
                },
                {
                    "nodeName": "matrix_multiply2",
                    "nodeType": "Core::Math::matrix_multiply",
                    "multiInPortNames": [
                        "matrix1",
                        "inverted"
                    ],
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-874.4 -919.227"
                        }
                    ]
                },
                {
                    "nodeName": "value",
                    "valueType": "Amino::Object",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "valuenode_defaultvalue",
                            "metaType": "string",
                            "metaValue": ""
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-2141.63 -1673.44"
                        }
                    ]
                },
                {
                    "nodeName": "set_property",
                    "nodeType": "Core::Object::set_property",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-1757.81 -1638.35"
                        }
                    ]
                },
                {
                    "nodeName": "set_property1",
                    "nodeType": "Core::Object::set_property",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-1312.03 -1542.59"
                        }
                    ]
                },
                {
                    "nodeName": "set_property2",
                    "nodeType": "Core::Object::set_property",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-914.528 -1405.97"
                        }
                    ]
                },
                {
                    "nodeName": "set_property3",
                    "nodeType": "Core::Object::set_property",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-633.715 -1377.98"
                        }
                    ]
                },
                {
                    "nodeName": "dl_icon_display",
                    "nodeType": "DL_Core::diagnostics::dl_icon_display",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "-473.67 -588.135"
                        }
                    ]
                }
            ],
            "connections": [
                {
                    "source": ".active",
                    "target": "should_compute.condition"
                },
                {
                    "source": "identity.identity",
                    "target": "should_compute.false_case"
                },
                {
                    "source": "euler_to_quaternion.quaternion",
                    "target": "SRT_to_matrix.quaternion"
                },
                {
                    "source": ".rotationOrder",
                    "target": "euler_to_quaternion.order"
                },
                {
                    "source": "degrees_to_radians.radians",
                    "target": "euler_to_quaternion.euler_radians"
                },
                {
                    "source": ".useSRT",
                    "target": "useSRT.condition"
                },
                {
                    "source": ".inPivotMatrix",
                    "target": "inverse_pivot.matrix"
                },
                {
                    "source": ".inLocalMatrix",
                    "target": "useSRT.false_case"
                },
                {
                    "source": ".scale",
                    "target": "SRT_to_matrix.scale"
                },
                {
                    "source": ".translation",
                    "target": "SRT_to_matrix.translation"
                },
                {
                    "source": ".rotate",
                    "target": "degrees_to_radians.degrees"
                },
                {
                    "source": "SRT_to_matrix.transform",
                    "target": "useSRT.true_case"
                },
                {
                    "source": ".inParentMatrix",
                    "target": "matrix_multiply.first.inParentMatrix"
                },
                {
                    "source": "matrix_multiply.matrix",
                    "target": "matrix_multiply1.first.matrix1"
                },
                {
                    "source": ".inPivotMatrix",
                    "target": "matrix_multiply.first.inPivotMatrix"
                },
                {
                    "source": "matrix_multiply1.matrix",
                    "target": "matrix_multiply2.first.matrix1"
                },
                {
                    "source": "inverse_pivot.inverted",
                    "target": "matrix_multiply2.first.inverted"
                },
                {
                    "source": "matrix_multiply1.matrix",
                    "target": ".worldMatrix"
                },
                {
                    "source": ".inParentMatrix",
                    "target": ".parentMatrix"
                },
                {
                    "source": ".inPivotMatrix",
                    "target": ".pivotMatrix"
                },
                {
                    "source": "value.output",
                    "target": "set_property.object"
                },
                {
                    "source": ".inPivotMatrix",
                    "target": "set_property.value"
                },
                {
                    "source": "set_property.out_object",
                    "target": "set_property1.object"
                },
                {
                    "source": ".inParentMatrix",
                    "target": "set_property1.value"
                },
                {
                    "source": "set_property1.out_object",
                    "target": "set_property2.object"
                },
                {
                    "source": "set_property2.out_object",
                    "target": "set_property3.object"
                },
                {
                    "source": "set_property3.out_object",
                    "target": ".out_xform"
                },
                {
                    "source": "matrix_multiply2.matrix",
                    "target": ".deformMatrix"
                },
                {
                    "source": "matrix_multiply2.matrix",
                    "target": "set_property3.value"
                },
                {
                    "source": "useSRT.output",
                    "target": "should_compute.true_case"
                },
                {
                    "source": "should_compute.output",
                    "target": "set_property2.value"
                },
                {
                    "source": "should_compute.output",
                    "target": "matrix_multiply1.first.output"
                },
                {
                    "source": "should_compute.output",
                    "target": ".localMatrix"
                },
                {
                    "source": "matrix_multiply1.matrix",
                    "target": "dl_icon_display.parent_matrix"
                },
                {
                    "source": ".icon_type",
                    "target": "dl_icon_display.icon_type"
                },
                {
                    "source": ".icon_size",
                    "target": "dl_icon_display.icon_size"
                },
                {
                    "source": ".icon_color",
                    "target": "dl_icon_display.icon_color"
                }
            ],
            "values": [
                {
                    "valueName": "identity.type",
                    "valueType": "Math::float4x4",
                    "value": {
                        "c0": {
                            "x": "1f",
                            "y": "0f",
                            "z": "0f",
                            "w": "0f"
                        },
                        "c1": {
                            "x": "0f",
                            "y": "1f",
                            "z": "0f",
                            "w": "0f"
                        },
                        "c2": {
                            "x": "0f",
                            "y": "0f",
                            "z": "1f",
                            "w": "0f"
                        },
                        "c3": {
                            "x": "0f",
                            "y": "0f",
                            "z": "0f",
                            "w": "1f"
                        }
                    }
                },
                {
                    "valueName": "should_compute.condition",
                    "valueType": "bool",
                    "value": "false"
                },
                {
                    "valueName": "value.value",
                    "valueType": "Amino::Object",
                    "value": {}
                },
                {
                    "valueName": "set_property.key",
                    "valueType": "string",
                    "value": "pivot_matrix"
                },
                {
                    "valueName": "set_property1.key",
                    "valueType": "string",
                    "value": "parent_matrix"
                },
                {
                    "valueName": "set_property2.key",
                    "valueType": "string",
                    "value": "local_matrix"
                },
                {
                    "valueName": "set_property3.key",
                    "valueType": "string",
                    "value": "deform_matrix"
                }
            ],
            "reservedNodeNames": [
                {
                    "name": "input"
                },
                {
                    "name": "output"
                },
                {
                    "name": "SRT_input"
                },
                {
                    "name": "input1"
                }
            ]
        }
    ]
}
