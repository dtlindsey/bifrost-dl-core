{
    "header": {
        "metadata": [
            {
                "metaName": "adskFileFormatVersion",
                "metaValue": "100L"
            }
        ]
    },
    "namespaces": [],
    "types": [],
    "compounds": [
        {
            "name": "DL_Core::geometry::dl_points_to_matrices",
            "uriImported": "file:///dl_points_to_matrices.json",
            "metadata": [
                {
                    "metaName": "icon",
                    "metaType": "string",
                    "metaValue": "../icons/arrays.svg"
                },
                {
                    "metaName": "documentation",
                    "metaType": "string",
                    "metaValue": "../docs/${language}/dl_points_to_matrices.md"
                },
                {
                    "metaName": "io_nodes",
                    "metadata": [
                        {
                            "metaName": "io_inodes",
                            "metadata": [
                                {
                                    "metaName": "input",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "10 227"
                                        },
                                        {
                                            "metaName": "io_ports",
                                            "metadata": [
                                                {
                                                    "metaName": "point_positions"
                                                },
                                                {
                                                    "metaName": "point_normals"
                                                },
                                                {
                                                    "metaName": "position_indices"
                                                },
                                                {
                                                    "metaName": "neighbor_array"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "metaName": "transpose",
                                    "metadata": [
                                        {
                                            "metaName": "io_ports",
                                            "metadata": [
                                                {
                                                    "metaName": "transpose_matrix"
                                                }
                                            ]
                                        },
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "943.203 -201.252"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "metaName": "io_onodes",
                            "metadata": [
                                {
                                    "metaName": "output",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "io_ports",
                                            "metadata": [
                                                {
                                                    "metaName": "out_matrices"
                                                }
                                            ]
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "1555.02 60.4577"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,Core::Array,array_size"
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,Core::Array,get_from_array"
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,Core::Constants,float"
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,Core::Iterators,for_each"
                },
                {
                    "metaName": "_recentNode_",
                    "metaType": "string",
                    "metaValue": "BifrostGraph,Core::Logic,if"
                },
                {
                    "metaName": "ViewportRect",
                    "metaType": "string",
                    "metaValue": "-69.1854 -325.978 1910.64 1163.29"
                },
                {
                    "metaName": "DisplayMode",
                    "metaType": "string",
                    "metaValue": "2"
                },
                {
                    "metaName": "LayoutPos",
                    "metaType": "string",
                    "metaValue": "134.665 -925.992"
                }
            ],
            "ports": [
                {
                    "portName": "point_positions",
                    "portDirection": "input",
                    "portType": "array<Math::float3>"
                },
                {
                    "portName": "point_normals",
                    "portDirection": "input",
                    "portType": "array<Math::float3>"
                },
                {
                    "portName": "position_indices",
                    "portDirection": "input",
                    "portType": "array<uint>"
                },
                {
                    "portName": "neighbor_array",
                    "portDirection": "input",
                    "portType": "array<array<uint>>",
                    "portDefault": []
                },
                {
                    "portName": "out_matrices",
                    "portDirection": "output"
                },
                {
                    "portName": "transpose_matrix",
                    "portDirection": "input",
                    "portType": "bool",
                    "portDefault": "false"
                }
            ],
            "compounds": [
                {
                    "name": "build_matrices",
                    "metadata": [
                        {
                            "metaName": "icon",
                            "metaType": "string",
                            "metaValue": "<NATIVE>../icons/LoopForEach.svg"
                        },
                        {
                            "metaName": "icon",
                            "metaType": "string",
                            "metaValue": "<NATIVE>../icons/LoopForEach.svg"
                        },
                        {
                            "metaName": "io_nodes",
                            "metadata": [
                                {
                                    "metaName": "io_inodes",
                                    "metadata": [
                                        {
                                            "metaName": "input",
                                            "metadata": [
                                                {
                                                    "metaName": "DisplayMode",
                                                    "metaType": "string",
                                                    "metaValue": "2"
                                                },
                                                {
                                                    "metaName": "io_ports",
                                                    "metadata": [
                                                        {
                                                            "metaName": "max_iterations"
                                                        },
                                                        {
                                                            "metaName": "current_index"
                                                        },
                                                        {
                                                            "metaName": "point_position"
                                                        },
                                                        {
                                                            "metaName": "point_normal"
                                                        },
                                                        {
                                                            "metaName": "position_indices"
                                                        },
                                                        {
                                                            "metaName": "neighbors"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "metaName": "LayoutPos",
                                                    "metaType": "string",
                                                    "metaValue": "-1289.97 33.0909"
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "metaName": "io_onodes",
                                    "metadata": [
                                        {
                                            "metaName": "output",
                                            "metadata": [
                                                {
                                                    "metaName": "DisplayMode",
                                                    "metaType": "string",
                                                    "metaValue": "2"
                                                },
                                                {
                                                    "metaName": "LayoutPos",
                                                    "metaType": "string",
                                                    "metaValue": "2718.34 571.528"
                                                },
                                                {
                                                    "metaName": "io_ports",
                                                    "metadata": [
                                                        {
                                                            "metaName": "out_matrices"
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "metaName": "_recentNode_",
                            "metaType": "string",
                            "metaValue": "BifrostGraph,Core::Array,get_from_array"
                        },
                        {
                            "metaName": "_recentNode_",
                            "metaType": "string",
                            "metaValue": "BifrostGraph,Core::Math,add"
                        },
                        {
                            "metaName": "_recentNode_",
                            "metaType": "string",
                            "metaValue": "BifrostGraph,Core::Type_Conversion,to_int"
                        },
                        {
                            "metaName": "_recentNode_",
                            "metaType": "string",
                            "metaValue": "BifrostGraph,Core::Array,array_size"
                        },
                        {
                            "metaName": "_recentNode_",
                            "metaType": "string",
                            "metaValue": "BifrostGraph,Core::Math,divide"
                        },
                        {
                            "metaName": "ViewportRect",
                            "metaType": "string",
                            "metaValue": "-859 -523 1718 1046"
                        }
                    ],
                    "ports": [
                        {
                            "portName": "max_iterations",
                            "portDirection": "input",
                            "portType": "long",
                            "portIterationLimit": "true"
                        },
                        {
                            "portName": "current_index",
                            "portDirection": "input",
                            "portType": "long",
                            "portIterationCounter": "true"
                        },
                        {
                            "portName": "point_position",
                            "portDirection": "input"
                        },
                        {
                            "portName": "point_normal",
                            "portDirection": "input"
                        },
                        {
                            "portName": "out_matrices",
                            "portDirection": "output",
                            "portIterationTarget": "true"
                        },
                        {
                            "portName": "position_indices",
                            "portDirection": "input",
                            "portType": "array<uint>"
                        },
                        {
                            "portName": "neighbors",
                            "portDirection": "input"
                        }
                    ],
                    "compounds": [
                        {
                            "name": "average_normal",
                            "metadata": [
                                {
                                    "metaName": "_recentNode_",
                                    "metaType": "string",
                                    "metaValue": "BifrostGraph,Core::Math,normalize"
                                },
                                {
                                    "metaName": "_recentNode_",
                                    "metaType": "string",
                                    "metaValue": "BifrostGraph,Core::Math,add"
                                },
                                {
                                    "metaName": "_recentNode_",
                                    "metaType": "string",
                                    "metaValue": "BifrostGraph,Core::Type_Conversion,to_int"
                                },
                                {
                                    "metaName": "_recentNode_",
                                    "metaType": "string",
                                    "metaValue": "BifrostGraph,Core::Array,array_size"
                                },
                                {
                                    "metaName": "_recentNode_",
                                    "metaType": "string",
                                    "metaValue": "BifrostGraph,Core::Math,divide"
                                },
                                {
                                    "metaName": "ViewportRect",
                                    "metaType": "string",
                                    "metaValue": "-139.738 -1821.54 2048.6 3799.36"
                                },
                                {
                                    "metaName": "io_nodes",
                                    "metadata": [
                                        {
                                            "metaName": "io_inodes",
                                            "metadata": [
                                                {
                                                    "metaName": "input",
                                                    "metadata": [
                                                        {
                                                            "metaName": "DisplayMode",
                                                            "metaType": "string",
                                                            "metaValue": "2"
                                                        },
                                                        {
                                                            "metaName": "LayoutPos",
                                                            "metaType": "string",
                                                            "metaValue": "10 107"
                                                        },
                                                        {
                                                            "metaName": "io_ports",
                                                            "metadata": [
                                                                {
                                                                    "metaName": "position_ids"
                                                                },
                                                                {
                                                                    "metaName": "point_normal"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "metaName": "io_onodes",
                                            "metadata": [
                                                {
                                                    "metaName": "output",
                                                    "metadata": [
                                                        {
                                                            "metaName": "DisplayMode",
                                                            "metaType": "string",
                                                            "metaValue": "2"
                                                        },
                                                        {
                                                            "metaName": "LayoutPos",
                                                            "metaType": "string",
                                                            "metaValue": "1535 181"
                                                        },
                                                        {
                                                            "metaName": "io_ports",
                                                            "metadata": [
                                                                {
                                                                    "metaName": "avg_normal"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "ports": [
                                {
                                    "portName": "position_ids",
                                    "portDirection": "input"
                                },
                                {
                                    "portName": "point_normal",
                                    "portDirection": "input"
                                },
                                {
                                    "portName": "avg_normal",
                                    "portDirection": "output"
                                }
                            ],
                            "compoundNodes": [
                                {
                                    "nodeName": "array_size",
                                    "nodeType": "Core::Array::array_size",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "315 229"
                                        }
                                    ]
                                },
                                {
                                    "nodeName": "divide",
                                    "nodeType": "Core::Math::divide",
                                    "multiInPortNames": [
                                        "sum",
                                        "int"
                                    ],
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "925 132"
                                        }
                                    ]
                                },
                                {
                                    "nodeName": "get_normal1",
                                    "nodeType": "Core::Array::get_from_array",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "315 10"
                                        }
                                    ]
                                },
                                {
                                    "nodeName": "sum_array",
                                    "nodeType": "Core::Array::sum_array",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "620 34"
                                        }
                                    ]
                                },
                                {
                                    "nodeName": "to_int",
                                    "nodeType": "Core::Type_Conversion::to_int",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "620 229"
                                        }
                                    ]
                                },
                                {
                                    "nodeName": "normalize",
                                    "nodeType": "Core::Math::normalize",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "1230 145"
                                        }
                                    ]
                                }
                            ],
                            "connections": [
                                {
                                    "source": "array_size.size",
                                    "target": "to_int.from"
                                },
                                {
                                    "source": "divide.output",
                                    "target": "normalize.value"
                                },
                                {
                                    "source": "get_normal1.value",
                                    "target": "sum_array.array"
                                },
                                {
                                    "source": "sum_array.sum",
                                    "target": "divide.first.sum"
                                },
                                {
                                    "source": "to_int.int",
                                    "target": "divide.first.int"
                                },
                                {
                                    "source": "normalize.normalized",
                                    "target": ".avg_normal"
                                },
                                {
                                    "source": ".position_ids",
                                    "target": "array_size.array"
                                },
                                {
                                    "source": ".position_ids",
                                    "target": "get_normal1.index"
                                },
                                {
                                    "source": ".point_normal",
                                    "target": "get_normal1.array"
                                }
                            ],
                            "values": [],
                            "reservedNodeNames": [
                                {
                                    "name": "input"
                                },
                                {
                                    "name": "output"
                                }
                            ]
                        },
                        {
                            "name": "get_biNormal",
                            "metadata": [
                                {
                                    "metaName": "io_nodes",
                                    "metadata": [
                                        {
                                            "metaName": "io_inodes",
                                            "metadata": [
                                                {
                                                    "metaName": "input",
                                                    "metadata": [
                                                        {
                                                            "metaName": "io_ports",
                                                            "metadata": [
                                                                {
                                                                    "metaName": "current_point_position"
                                                                },
                                                                {
                                                                    "metaName": "neighbor_index"
                                                                },
                                                                {
                                                                    "metaName": "all_point_positions"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "metaName": "io_onodes",
                                            "metadata": [
                                                {
                                                    "metaName": "output",
                                                    "metadata": [
                                                        {
                                                            "metaName": "io_ports",
                                                            "metadata": [
                                                                {
                                                                    "metaName": "bi_normal"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ],
                            "ports": [
                                {
                                    "portName": "current_point_position",
                                    "portDirection": "input"
                                },
                                {
                                    "portName": "neighbor_index",
                                    "portDirection": "input"
                                },
                                {
                                    "portName": "all_point_positions",
                                    "portDirection": "input"
                                },
                                {
                                    "portName": "bi_normal",
                                    "portDirection": "output"
                                }
                            ],
                            "compoundNodes": [
                                {
                                    "nodeName": "biNormal",
                                    "nodeType": "Core::Math::normalize",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "618.842 -36.1161"
                                        }
                                    ]
                                },
                                {
                                    "nodeName": "get_biPt",
                                    "nodeType": "Core::Array::get_from_array",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "-22.161 53.9454"
                                        }
                                    ]
                                },
                                {
                                    "nodeName": "last_in_array",
                                    "nodeType": "Core::Array::last_in_array",
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "-293.314 -253.037"
                                        }
                                    ]
                                },
                                {
                                    "nodeName": "subtract",
                                    "nodeType": "Core::Math::subtract",
                                    "multiInPortNames": [
                                        "value",
                                        "value1"
                                    ],
                                    "metadata": [
                                        {
                                            "metaName": "DisplayMode",
                                            "metaType": "string",
                                            "metaValue": "2"
                                        },
                                        {
                                            "metaName": "LayoutPos",
                                            "metaType": "string",
                                            "metaValue": "330.874 -60.9303"
                                        }
                                    ]
                                }
                            ],
                            "connections": [
                                {
                                    "source": "biNormal.normalized",
                                    "target": ".bi_normal"
                                },
                                {
                                    "source": "get_biPt.value",
                                    "target": "subtract.first.value"
                                },
                                {
                                    "source": "last_in_array.last",
                                    "target": "get_biPt.index"
                                },
                                {
                                    "source": "subtract.output",
                                    "target": "biNormal.value"
                                },
                                {
                                    "source": ".current_point_position",
                                    "target": "subtract.first.value1"
                                },
                                {
                                    "source": ".neighbor_index",
                                    "target": "last_in_array.array"
                                },
                                {
                                    "source": ".all_point_positions",
                                    "target": "get_biPt.array"
                                }
                            ],
                            "values": [],
                            "reservedNodeNames": [
                                {
                                    "name": "input"
                                },
                                {
                                    "name": "output"
                                }
                            ]
                        }
                    ],
                    "compoundNodes": [
                        {
                            "nodeName": "get_position",
                            "nodeType": "Core::Array::get_from_array",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "-558.456 -367.639"
                                }
                            ]
                        },
                        {
                            "nodeName": "value",
                            "valueType": "Math::float4x4",
                            "metadata": [
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "valuenode_defaultvalue",
                                    "metaType": "string",
                                    "metaValue": "0"
                                },
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "2436.5 570.665"
                                },
                                {
                                    "metaName": "PortExpandedState",
                                    "metadata": [
                                        {
                                            "metaName": "value",
                                            "metaType": "string",
                                            "metaValue": "1"
                                        },
                                        {
                                            "metaName": "output",
                                            "metaType": "string",
                                            "metaValue": "0"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "nodeName": "point2translation",
                            "nodeType": "Core::Conversion::vector3_to_vector4",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "-216.125 690.381"
                                }
                            ]
                        },
                        {
                            "nodeName": "get_normal",
                            "nodeType": "Core::Array::get_from_array",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "-537.52 475.174"
                                }
                            ]
                        },
                        {
                            "nodeName": "get_connected",
                            "nodeType": "Core::Array::get_from_array",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "-554.071 -143.211"
                                }
                            ]
                        },
                        {
                            "nodeName": "crossZAxis",
                            "nodeType": "Core::Math::cross",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "673.655 -71.4477"
                                }
                            ]
                        },
                        {
                            "nodeName": "zRots",
                            "nodeType": "Core::Math::normalize",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "946.647 -86.5346"
                                }
                            ]
                        },
                        {
                            "nodeName": "crossYAxis",
                            "nodeType": "Core::Math::cross",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "1203.16 391.595"
                                }
                            ]
                        },
                        {
                            "nodeName": "yRots",
                            "nodeType": "Core::Math::normalize",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "1491.59 369.524"
                                }
                            ]
                        },
                        {
                            "nodeName": "xRots",
                            "nodeType": "Core::Math::normalize",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "382.826 424.936"
                                }
                            ]
                        },
                        {
                            "nodeName": "xrot2matrix",
                            "nodeType": "Core::Conversion::vector3_to_vector4",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "1904.5 16.2188"
                                }
                            ]
                        },
                        {
                            "nodeName": "yrot2matrix",
                            "nodeType": "Core::Conversion::vector3_to_vector4",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "1901.51 350.485"
                                }
                            ]
                        },
                        {
                            "nodeName": "zrot2matrix",
                            "nodeType": "Core::Conversion::vector3_to_vector4",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "1923.93 647.039"
                                }
                            ]
                        },
                        {
                            "nodeName": "add",
                            "nodeType": "Core::Math::add",
                            "multiInPortNames": [
                                "value",
                                "avg_normal"
                            ],
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "92.9306 447.953"
                                }
                            ]
                        },
                        {
                            "nodeName": "average_normal",
                            "nodeType": "average_normal",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "-269.242 232.919"
                                }
                            ]
                        },
                        {
                            "nodeName": "get_biNormal",
                            "nodeType": "get_biNormal",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "-180.123 -27.0511"
                                }
                            ]
                        },
                        {
                            "nodeName": "get_proper_index",
                            "nodeType": "Core::Array::get_from_array",
                            "metadata": [
                                {
                                    "metaName": "DisplayMode",
                                    "metaType": "string",
                                    "metaValue": "2"
                                },
                                {
                                    "metaName": "LayoutPos",
                                    "metaType": "string",
                                    "metaValue": "-976.793 -314.865"
                                }
                            ]
                        }
                    ],
                    "connections": [
                        {
                            "source": "get_position.value",
                            "target": "point2translation.vector3"
                        },
                        {
                            "source": "get_position.value",
                            "target": "get_biNormal.current_point_position"
                        },
                        {
                            "source": "value.output",
                            "target": ".out_matrices"
                        },
                        {
                            "source": "point2translation.vector4",
                            "target": "value.value.c3"
                        },
                        {
                            "source": "get_normal.value",
                            "target": "add.first.value"
                        },
                        {
                            "source": "get_connected.value",
                            "target": "average_normal.position_ids"
                        },
                        {
                            "source": "get_connected.value",
                            "target": "get_biNormal.neighbor_index"
                        },
                        {
                            "source": "crossZAxis.cross_product",
                            "target": "zRots.value"
                        },
                        {
                            "source": "zRots.normalized",
                            "target": "crossYAxis.first"
                        },
                        {
                            "source": "zRots.normalized",
                            "target": "zrot2matrix.vector3"
                        },
                        {
                            "source": "crossYAxis.cross_product",
                            "target": "yRots.value"
                        },
                        {
                            "source": "yRots.normalized",
                            "target": "yrot2matrix.vector3"
                        },
                        {
                            "source": "xRots.normalized",
                            "target": "crossZAxis.first"
                        },
                        {
                            "source": "xRots.normalized",
                            "target": "crossYAxis.second"
                        },
                        {
                            "source": "xRots.normalized",
                            "target": "xrot2matrix.vector3"
                        },
                        {
                            "source": "xrot2matrix.vector4",
                            "target": "value.value.c0"
                        },
                        {
                            "source": "yrot2matrix.vector4",
                            "target": "value.value.c1"
                        },
                        {
                            "source": "zrot2matrix.vector4",
                            "target": "value.value.c2"
                        },
                        {
                            "source": "add.output",
                            "target": "xRots.value"
                        },
                        {
                            "source": "average_normal.avg_normal",
                            "target": "add.first.avg_normal"
                        },
                        {
                            "source": "get_biNormal.bi_normal",
                            "target": "crossZAxis.second"
                        },
                        {
                            "source": ".point_position",
                            "target": "get_position.array"
                        },
                        {
                            "source": ".point_position",
                            "target": "get_biNormal.all_point_positions"
                        },
                        {
                            "source": ".point_normal",
                            "target": "get_normal.array"
                        },
                        {
                            "source": ".point_normal",
                            "target": "average_normal.point_normal"
                        },
                        {
                            "source": ".neighbors",
                            "target": "get_connected.array"
                        },
                        {
                            "source": ".position_indices",
                            "target": "get_proper_index.array"
                        },
                        {
                            "source": ".current_index",
                            "target": "get_proper_index.index"
                        },
                        {
                            "source": "get_proper_index.value",
                            "target": "get_position.index"
                        },
                        {
                            "source": "get_proper_index.value",
                            "target": "get_connected.index"
                        },
                        {
                            "source": "get_proper_index.value",
                            "target": "get_normal.index"
                        }
                    ],
                    "values": [
                        {
                            "valueName": "value.value",
                            "valueType": "Math::float4x4",
                            "value": {
                                "c0": {
                                    "x": "0f",
                                    "y": "0f",
                                    "z": "0f",
                                    "w": "0f"
                                },
                                "c1": {
                                    "x": "0f",
                                    "y": "0f",
                                    "z": "0f",
                                    "w": "0f"
                                },
                                "c2": {
                                    "x": "0f",
                                    "y": "0f",
                                    "z": "0f",
                                    "w": "0f"
                                },
                                "c3": {
                                    "x": "0f",
                                    "y": "0f",
                                    "z": "0f",
                                    "w": "0f"
                                }
                            }
                        },
                        {
                            "valueName": "point2translation.w",
                            "valueType": "float",
                            "value": "1f"
                        },
                        {
                            "valueName": "average_normal.position_ids",
                            "valueType": "array<uint>",
                            "value": []
                        },
                        {
                            "valueName": "get_biNormal.current_point_position",
                            "valueType": "Math::float3",
                            "value": {
                                "x": "0f",
                                "y": "0f",
                                "z": "0f"
                            }
                        },
                        {
                            "valueName": "get_biNormal.neighbor_index",
                            "valueType": "array<uint>",
                            "value": []
                        }
                    ],
                    "reservedNodeNames": [
                        {
                            "name": "input"
                        },
                        {
                            "name": "output"
                        }
                    ],
                    "forEachCompound": {
                        "ports": []
                    }
                }
            ],
            "compoundNodes": [
                {
                    "nodeName": "transpose_matrix",
                    "nodeType": "Core::Math::transpose_matrix",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "925 10"
                        }
                    ]
                },
                {
                    "nodeName": "if",
                    "nodeType": "Core::Logic::if",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "1237.78 60.5698"
                        }
                    ]
                },
                {
                    "nodeName": "build_matrices",
                    "nodeType": "build_matrices",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "618.888 133"
                        }
                    ]
                },
                {
                    "nodeName": "array_size",
                    "nodeType": "Core::Array::array_size",
                    "metadata": [
                        {
                            "metaName": "DisplayMode",
                            "metaType": "string",
                            "metaValue": "2"
                        },
                        {
                            "metaName": "LayoutPos",
                            "metaType": "string",
                            "metaValue": "315 16"
                        }
                    ]
                }
            ],
            "connections": [
                {
                    "source": "transpose_matrix.transposed",
                    "target": "if.true_case"
                },
                {
                    "source": "if.output",
                    "target": ".out_matrices"
                },
                {
                    "source": ".transpose_matrix",
                    "target": "if.condition"
                },
                {
                    "source": ".point_positions",
                    "target": "build_matrices.point_position"
                },
                {
                    "source": ".point_normals",
                    "target": "build_matrices.point_normal"
                },
                {
                    "source": ".neighbor_array",
                    "target": "build_matrices.neighbors"
                },
                {
                    "source": ".position_indices",
                    "target": "array_size.array"
                },
                {
                    "source": "array_size.size",
                    "target": "build_matrices.max_iterations"
                },
                {
                    "source": ".position_indices",
                    "target": "build_matrices.position_indices"
                },
                {
                    "source": "build_matrices.out_matrices",
                    "target": "transpose_matrix.matrix"
                },
                {
                    "source": "build_matrices.out_matrices",
                    "target": "if.false_case"
                }
            ],
            "values": [
                {
                    "valueName": "build_matrices.max_iterations",
                    "valueType": "long",
                    "value": "10"
                }
            ],
            "reservedNodeNames": [
                {
                    "name": "input"
                },
                {
                    "name": "output"
                },
                {
                    "name": "transpose"
                }
            ]
        }
    ]
}
